12/18/2024 1:04:42 PM - sent questions to the chat
I'd benefit from a vocab dump. I know there's lots of stuff I'm missing; but when I heard that I'm 'installing the web-agent' for the 3rd time, I started getting confused :-).  


1/8/2025 12:11:47 PM - questions and answers

Here's the vocab I've collected in my notes with my attempt at understanding them:  
 
Web server: tomcat/apache/jboss - Binaries set up first - simple vanilla apache web server from apache.  

Web Agent profile: Configuration for a web agent instance in AM system.
 - set up in AM before the actual web agent; helps prep web agent to access the ability to authenticate; config in AM.  

Web Agent: actual binaries that enable the agent, from ping.  Apache security managed by the agent . . 

Agent instances: multiple instances for each app . .   not doing anything now . . 

Application: at some point; there'll be some sort of back-end application that benefits from the external authentication provided by this setup: ultimately this is the point of this install.
	 - When auth to am - get a token  & session cookie - managed by agent - Cookie domain stored . .
	 - Person with this cookie wants to access this resource - AM will respond yes or no

Now looking at possible diagram on how agents work

jeremiah - reiewing diagram here: 1/8/2025 12:19:43 PM
https://backstage.forgerock.com/docs/openam-web-policy-agents/5.10/user-guide/about.html

corrected version: - jeremiah looking at htis:
https://backstage.forgerock.com/docs/openam-web-policy-agents/2024.11/user-guide/about.html

1/8/2025 12:25:41 PM - talking thorugh optoins . . .not super standardized for handling authorizations 


fyi: disable selinux notes:
![[Pasted image 20250108125414.png]]


Per last week notes, this curl is now passing:

curl -X POST \
-H "X-OpenAM-Username: apache-agent" \
--header "X-OpenAM-Password: trivir" \
-H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36' \
-H "Content-Type: application/json" \
-H "Accept-API-Version: resource=2.1" \
-k 'https://people.dev.trivir.com:443/am/json/realms/root/realms/people/authenticate?authIndexType=service&authIndexValue=Agent'

{"tokenId":"dGIo4IqnIvegEEPYZO_7ELqtB_M.*AAJTSQACMDMAAlNLABxFdVdRMzZ1aytOOFFFYkZwVit1bS9wV               Fc5YmM9AAR0eXBlAANDVFMAAlMxAAIwMQ..*","successUrl":"/am/console","realm":"/people"}

https://backstage.forgerock.com/docs/openam-web-policy-agents/2024.11/installation-guide/apache.html
Starting
### Install interactively

instaling on am2!

export APACHE_RUN_USER=forgerock
export APACHE_RUN_GROUP=forgerock

On step to stop httpd . . I don't hve one in the systemctl list . .

Found and jeremiah/carl confirmed: AM1 has  haproxy, AM2 has httpd . .

* Shutting down httpd on am2
* [root@am2 opt]# systemctl stop httpd

Next step for next time:
./agentadmin --i


