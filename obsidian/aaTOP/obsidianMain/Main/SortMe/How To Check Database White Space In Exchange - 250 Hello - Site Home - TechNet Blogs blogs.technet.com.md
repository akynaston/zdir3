# How To Check Database White Space In Exchange - 250 Hello - Site Home - TechNet Blogs [blogs.technet.com]

* [TechNet](https://technet.microsoft.com/)

* [Products](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)
* [IT Resources](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)
* [Downloads](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)
* [Training](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)
* [Support](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)

* [Sign in](https://login.live.com/login.srf?wa=wsignin1.0&wtrealm=blogs.technet.com&wreply=https%3a%2f%2fblogs.technet.com%2fb%2frmilne%2farchive%2f2013%2f08%2f20%2fhow-to-check-database-white-space-in-exchange.aspx%3fstoAI%3d10&wp=MBI_FED_SSL&wlcxt=microsoft%24microsoft%24microsoft)

 **<http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx>**

# [250 Hello](http://blogs.technet.com/b/rmilne/default.aspx)

Random Musings on Exchange and Virtualization

Search Blogs

Search this blog Search all blogs

Post Options

* [Home](http://blogs.technet.com/b/rmilne/default.aspx)

* [About](http://blogs.technet.com/b/rmilne/about.aspx)
* [Email Blog Author](http://blogs.technet.com/b/rmilne/contact.aspx)
* [RSS for posts](http://blogs.technet.com/b/rmilne/rss.aspx)
* [Atom](http://blogs.technet.com/b/rmilne/atom.aspx)
* [RSS for comments](http://blogs.technet.com/b/rmilne/rsscomments.aspx)
* [Share this](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspxmailto:?subject=How%20To%20Check%20Database%20White%20Space%20In%20Exchange&body=http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)

Social Media Sharing

[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/facebook.gif]]](http://www.facebook.com/sharer.php?u=http%3A%2F%2Fblogs.technet.com%2Fb%2Frmilne%2Farchive%2F2013%2F08%2F20%2Fhow-to-check-database-white-space-in-exchange.aspx&t=How%20To%20Check%20Database%20White%20Space%20In%20Exchange)
[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/linkedin.gif]]](http://www.linkedin.com/shareArticle?mini=true&ro=true&summary=&source=Microsoft&armin=armin&url=http%3A%2F%2Fblogs.technet.com%2Fb%2Frmilne%2Farchive%2F2013%2F08%2F20%2Fhow-to-check-database-white-space-in-exchange.aspx&title=How%20To%20Check%20Database%20White%20Space%20In%20Exchange)
[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/reddit.gif]]](http://www.reddit.com/submit?url=http%3A%2F%2Fblogs.technet.com%2Fb%2Frmilne%2Farchive%2F2013%2F08%2F20%2Fhow-to-check-database-white-space-in-exchange.aspx&title=How%20To%20Check%20Database%20White%20Space%20In%20Exchange)
[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/twitter.gif]]](https://twitter.com/share?status=How%20To%20Check%20Database%20White%20Space%20In%20Exchange%20:%20http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)

Tags

* [ADFS](http://blogs.technet.com/b/rmilne/archive/tags/ADFS/default.aspx)

* [Autodiscover](http://blogs.technet.com/b/rmilne/archive/tags/Autodiscover/default.aspx)
* [Exchange](http://blogs.technet.com/b/rmilne/archive/tags/Exchange/default.aspx)
* [Exchange 2003](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2003/default.aspx)
* [Exchange 2007](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2007/default.aspx)
* [Exchange 2010](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2010/default.aspx)
* [Exchange 2010 SP1](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2010+SP1/default.aspx)
* [Exchange 2010 SP2](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2010+SP2/default.aspx)
* [Exchange 2010 SP3](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2010+SP3/default.aspx)
* [Exchange 2013](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2013/default.aspx)
* [Exchange 2013 SP1](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2013+SP1/default.aspx)
* [Exchange Workshop](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+Workshop/default.aspx)
* [Hyper-V](http://blogs.technet.com/b/rmilne/archive/tags/Hyper_2D00_V/default.aspx)
* [Lync](http://blogs.technet.com/b/rmilne/archive/tags/Lync/default.aspx)
* [Office 365](http://blogs.technet.com/b/rmilne/archive/tags/Office+365/default.aspx)
* [Outlook](http://blogs.technet.com/b/rmilne/archive/tags/Outlook/default.aspx)
* [Performance](http://blogs.technet.com/b/rmilne/archive/tags/Performance/default.aspx)
* [Powershell](http://blogs.technet.com/b/rmilne/archive/tags/Powershell/default.aspx)
* [RBAC](http://blogs.technet.com/b/rmilne/archive/tags/RBAC/default.aspx)
* [Supportability Dates](http://blogs.technet.com/b/rmilne/archive/tags/Supportability+Dates/default.aspx)
* [TechEd](http://blogs.technet.com/b/rmilne/archive/tags/TechEd/default.aspx)
* [Tips n Tricks](http://blogs.technet.com/b/rmilne/archive/tags/Tips+n+Tricks/default.aspx)
* [Windows](http://blogs.technet.com/b/rmilne/archive/tags/Windows/default.aspx)
* [Windows 8](http://blogs.technet.com/b/rmilne/archive/tags/Windows+8/default.aspx)
* [Windows Server 2012](http://blogs.technet.com/b/rmilne/archive/tags/Windows+Server+2012/default.aspx)

**[TechNet Blogs](http://blogs.technet.com/)** » **[250 Hello](http://blogs.technet.com/b/rmilne/default.aspx)** » **[How To Check Database White Space In Exchange](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)**

### How To Check Database White Space In Exchange

![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.4.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.4.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.4.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.4.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.4.png]]![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.png]]
 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.1.jpg]][Rhoderick Milne MSFT](http://social.technet.microsoft.com/profile/Rhoderick%20Milne%20[MSFT])
20 Aug 2013 7:05 AM

* **[20](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx#comments)**

From time to time we need to see how our Exchange databases are doing so that they are being managed proactively.  One aspect is tracking size and the utilization of each database.  At the simplest level we want to ensure that the database and transaction log LUNs do not run out of disk space.  That would be bad.

Sometimes we want to take a peek at the database, and check that the size of the database is within design expectations.  We can look at the amount of user data stored in the database, system usage for recoverable items in addition to looking at the size of the database on disk.  Some folks also want to see the blank space that is within a database.  This blank space is sometimes called:

	Available Mailbox Space
	
	White space
	
	Free database pages
	
	Free space
	

# Historical Approach To Checking White Space

In ye olden days when Exchange admins went to work on horses (alright, [iron horses](http://en.wikipedia.org/wiki/Iron_Horse)), we would look for the venerable application event log entry 1221.  This event would tell us the amount of white space within the database.  This event was introduced in [Exchange 5.5 SP1](http://support.microsoft.com/kb/195914/en-GB) back in [August 1998](http://support.microsoft.com/kb/191014/en-gb).  That’s more than 15 years ago, eeek!!   

In those simple Exchange days we would have one Public Folder (pub.edb) and one Mailbox database (priv.edb) per server.  Standard Edition could have a [database of up to 16GB](http://support.microsoft.com/kb/185457), and Enterprise had the “unlimited” database.  This was before the advent of the .stm file so all content lived in the .edb file.  Event ID 1221 would then report on the white space contained within the database file.  Life was indeed simple and good! Additionally Exchange 5.5 SP1 also added a second enhancement for determining white space which was the ESEUTIL /MS switch to dump out the space consumed by tables in the database.  More on this later….

As [mentioned in the KB](http://support.microsoft.com/kb/195914/en-GB), the free space that is reported by Event 1221 is a conservative estimate. If you perform offline defragmentation, you will recover at least the amount of space that is reported as free. All space in an Exchange database is owned either by the database root or by particular tables in the database. Event 1221 estimates free space by calculating the number of empty pages owned by the messages table, the attachments table, and the database root. Free pages that are owned by other tables in the database are not taken into account.

Things advanced, the dotcom bubble popped and with the advent of Exchange 2000 the streaming file was introduced.  The intent was to store native RFC content in the streaming file as the Internet was the future and content would be converted between the .stm and .edb as needed.  Event 1221 does not review this shiny streaming thingymabob, and did not report what free space may have been available within the .stm file.  For a trip down memory lane there is an excellent read in this document [Determining the True Amount of Space in an Exchange Database](http://technet.microsoft.com/en-us/library/aa996139(v=EXCHG.65).aspx)

If ESEUTIL /D was executed against a database the .stm would have been defragmented in addition to the .edb by default.  Though this could be changed by specifying the /I switch.     Details on defragmenting databases are can be found in [this KB](http://support.microsoft.com/kb/192185).

Exchange 2007 dropped the .stm file and just like [Atomic Kitten](http://www.bing.com/videos/search?q=atomic+kitten+whole+again&FORM=HDRSC3), the .edb became whole again.  Event 1221 was still with us and reporting on the database white space!

Then along came Exchange 2010, sans Event ID 1221….

      

# Getting White Space In Exchange 2010

Exchange 2010 introduced numerous improvements to the Mailbox role.  These improvements included things like

* Enhanced ESE physical store to improve performance
* Larger 32 Kb ESE page size
* Dumpster 2.0
* No database level attachment table
* Updated [Online Maintenance routines](http://blogs.technet.com/b/exchange/archive/2011/12/14/database-maintenance-in-exchange-2010.aspx)

As part of the changes to the mailbox role, the venerable event ID 1221 was removed, and output was added to [Get-MailboxDatabase](http://technet.microsoft.com/en-us/library/bb124924(v=exchg.141).aspx) called **AvailableNewMailboxSpace**.  This data is returned when the **–Status** parameter is also specified to execute the more expensive work items.  We can see the difference below, note the second command has **–Status** added:

[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.3.png]]](http://blogs.technet.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-91-09-metablogapi/1452.image_5F00_5BB5322F.png)

So **NewAvailableMailboxSpace** looks good?  Well not so much.  This parameter only looks at the root portion of the database.  This is clearly stated in the Exchange team blog [post](http://blogs.technet.com/b/exchange/archive/2011/12/14/database-maintenance-in-exchange-2010.aspx).  For reference the relevant text is shown below.

[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.1.png]]](http://blogs.technet.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-91-09-metablogapi/4532.image_5F00_19CE4CE1.png)

Remember we would come back to ESEUTIL /MS? 

We need to use ESEUTIL /MS to get an accurate picture of white space in an Exchange 2010 database. 

Running ESEUTIL /MS against a lab database shows the following:

[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/unknown_filename.2.png]]](http://blogs.technet.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-00-91-09-metablogapi/7673.image_5F00_31195152.png)

From this we can see the breakdown in the database structure and where space is being consumed.  Note that this can only be executed against a dismounted database, and you will receive the following error if running against an active mailbox:

_Operation terminated with error -1032 (**JET\_errFileAccessDenied**, Cannot access file, the file is locked or in use)_

And if you are thinking that I’ll be sneaky and run it on a passive database copy in a DAG, then you will receive this error instead, after stopping the replication service else you will get the same error as listed above:

_Operation terminated with error -550 (**JET\_errDatabaseDirtyShutdown**, Database was not shutdown cleanly. Recovery must first be run to properly complete database operations for the previous shutdown.)_

# Conclusion

To get an accurate representation of the amount of white space in an Exchange 2010 database we need to use **ESEUTIL /MS**.    Note that the database must be dismounted, else you will receive JET errors and no data will be returned. 

Dumping out the table information is a fairly quick operation, unless the verbose /V option is used and then the time taken will greatly increase. 

How often do I expect this to be used?  Rarely and typically as part of troubleshooting.

The days of online maintenance killing itself trying to defragment partially filled 4K pages of data to be on a single ESE page are gone.  The same goes for offline defragmentation.  We now live in a world where large mailboxes are the norm and any white space will be quickly re-used.  Also consider that many organisations are now running 24 \* 7, and it is hard to justify the impact caused by taking a database offline. 

Defragmenting databases to reclaim whitespace should be a rare event nowadays.  Exchange 2010/2013 are designed to use larger and cheaper storage which means you can get more storage capacity for the same price point.  Rather than defragmenting databases we should look to leverage the [online mailbox move experience](http://blogs.technet.com/b/exchange/archive/2010/07/19/3410438.aspx) in Exchange 2010/2013 and simply move mailboxes to a new database and then discard the original one.  This is critical when we are discussing DAG replicated databases. 

Cheers,

Rhoderick

Technorati Tags: [Exchange](http://technorati.com/tags/Exchange),[Exchange 2010](http://technorati.com/tags/Exchange+2010),[Exchange 2013](http://technorati.com/tags/Exchange+2013)

\>

* [20 Comments](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx#comments)

[Exchange 2007](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2007/default.aspx), [Exchange 2003](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2003/default.aspx), [Exchange 2010](http://blogs.technet.com/b/rmilne/archive/tags/Exchange+2010/default.aspx), [Exchange](http://blogs.technet.com/b/rmilne/archive/tags/Exchange/default.aspx)

[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/facebook.gif]]](http://www.facebook.com/sharer.php?u=http%3A%2F%2Fblogs.technet.com%2Fb%2Frmilne%2Farchive%2F2013%2F08%2F20%2Fhow-to-check-database-white-space-in-exchange.aspx&t=How%20To%20Check%20Database%20White%20Space%20In%20Exchange)
[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/linkedin.gif]]](http://www.linkedin.com/shareArticle?mini=true&ro=true&summary=&source=Microsoft&armin=armin&url=http%3A%2F%2Fblogs.technet.com%2Fb%2Frmilne%2Farchive%2F2013%2F08%2F20%2Fhow-to-check-database-white-space-in-exchange.aspx&title=How%20To%20Check%20Database%20White%20Space%20In%20Exchange)
[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/reddit.gif]]](http://www.reddit.com/submit?url=http%3A%2F%2Fblogs.technet.com%2Fb%2Frmilne%2Farchive%2F2013%2F08%2F20%2Fhow-to-check-database-white-space-in-exchange.aspx&title=How%20To%20Check%20Database%20White%20Space%20In%20Exchange)
[![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/twitter.gif]]](https://twitter.com/share?status=How%20To%20Check%20Database%20White%20Space%20In%20Exchange%20:%20http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx)

Comments

		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.jpg]][Charles Derber](http://social.technet.microsoft.com/profile/Charles%20Derber)
	21 Aug 2013 8:33 PM
	
	Frankly speaking I like the old way of checking white space via event ID 1221 :)
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.1.jpg]][Rhoderick Milne MSFT](http://social.technet.microsoft.com/profile/Rhoderick%20Milne%20[MSFT])
	21 Aug 2013 11:31 PM
	
	Hi Charles!
	
	Totally understandable, though I just wanted to make sure folks knew that the AvailableNewMailboxSpace was not a direct replacement for 1221
	
	Cheers,
	
	Rhoderick
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.jpg]][Charles Derber](http://social.technet.microsoft.com/profile/Charles%20Derber)
	22 Aug 2013 5:28 PM
	
	Yea - with that few more statistics need to gather for precise white space.
	
	Good that you brought to notice - people will see, know and learn including me :)
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]Rhinofart
	6 Dec 2013 9:31 PM
	
	Nobody commented on the link to Atomic Kitten? They were awesome! I loved Whole Again.
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.1.jpg]][Rhoderick Milne MSFT](http://social.technet.microsoft.com/profile/Rhoderick%20Milne%20[MSFT])
	9 Dec 2013 1:16 PM
	
	Glad you like the zany humour!  For more song related antics, take a peek at
	
	[blogs.technet.com/.../hyper-v-did-not-find-virtual-machine-to-import.aspx](http://blogs.technet.com/b/rmilne/archive/2013/05/31/hyper-v-did-not-find-virtual-machine-to-import.aspx)
	
	Cheers,
	
	Rhoderick
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]Mark
	18 Feb 2014 10:21 PM
	
	thats a pretty stupid way to have to do this now. I have 3 databases of 1.6TB in size each which I moved out a fair chunk of mailboxes into 3 new databases. Based on the fact the new databases are approximately 700GB each I can guess how much free space I have in the existing databases, but who in their right mind wants to dismount production databases impacting users in a 24x7 environment just to make sure I still have enough space.
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]Buy email database
	3 Mar 2014 12:10 PM
	
	It is a very nice post. I like this post.I sell unlimited buy email database.
	 
	
	\--Edit RMILNE Please do not link out to sell items and services.
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]Vikas Sukhija
	4 Mar 2014 11:26 PM
	
	You can use below script , it works for exchange 2007 & send the white space report in email
	<http://msexchange.me/2014/01/30/exchange-2007-database-white-space-report-2/>
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.1.jpg]][Rhoderick Milne MSFT](http://social.technet.microsoft.com/profile/Rhoderick%20Milne%20[MSFT])
	5 Mar 2014 2:59 AM
	
	Thanks Vikas - I see this is using the EventID 1221 information in this line
	$record = get-wmiobject -computer $Computername -class Win32\_NTLogEvent
	\-Filter "logfile = 'application' AND EventIdentifier = 1074136261 AND sourcename
	\= 'MSExchangeIS Mailbox Store'"| select -First $db.count
	That will work for E2007 and no-one should be running 2003 in ~6 weeks :)
	Thanks for sharing!
	Cheers,
	Rhoderick
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.2.jpg]][Sukhija Vikas](http://social.technet.microsoft.com/profile/Sukhija%20Vikas)
	17 Mar 2014 11:56 PM
	
	Thanks ..
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]gofurali12
	22 Mar 2014 10:49 AM
	
	It is a very nice post .we are like this post.
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]PF nightmares
	2 Apr 2014 4:17 AM
	
	What about public folders? All of the focus on improvements seems to have gone into the mailbox store. Microsoft would like people to forget that public folders exist but that's just not the case in the real world.
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/avatar.2.jpg]][Sukhija Vikas](http://social.technet.microsoft.com/profile/Sukhija%20Vikas)
	9 May 2014 5:17 PM
	
	We have made html report using these Shell cmdlets & sent it to email
	<http://msexchange.me/2014/05/09/exchange-2010-database-white-space-report/>
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]Wayne Peinke
	15 Jul 2014 11:05 AM
	
	Nicely written and clear article but, as Mark commented, AvailableNewMailboxSpace is pretty useless and taking a database offline just to find out how much free space you have is not practical. Moving all your mailboxes to a new database just to optimise your storage utilisation is also just plain silly.
	Is there no way to view actual free space in a mailbox database without taking it offline? Does Microsoft plan to provide a way of doing this going forward? Surely this is quite a glaring omission?
	
		 ![[./_resources/How_To_Check_Database_White_Space_In_Exchange_-_250_Hello_-_Site_Home_-_TechNet_Blogs_blogs.technet.com.resources/anonymous.gif]]John Cour
	30 Jul 2014 12:06 AM
	
	Would doing a mailbox report and discovering the total usage of mailboxes in the database and subtracting that size from the .EDB file not be a more accurate view of the available whitespace in a DB?
	

[1](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx?pi63079=1) [2](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx?pi63079=2)

Leave a Comment

* Name

* Comment
* [Post](http://blogs.technet.com/b/rmilne/archive/2013/08/20/how-to-check-database-white-space-in-exchange.aspx#)

* © 2015 Microsoft Corporation.

* [Terms of Use](http://technet.microsoft.com/en-US/cc300389.aspx)
* [Trademarks](http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx)
* [Privacy & Cookies](http://go.microsoft.com/fwlink/?LinkId=248681)
* 7.1.507.6741
