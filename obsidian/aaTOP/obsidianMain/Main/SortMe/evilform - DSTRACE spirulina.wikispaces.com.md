# evilform - DSTRACE [spirulina.wikispaces.com]

Welcome. [Learn more about what Wikispaces has to offer](http://www.wikispaces.com/t/y/searchbanner).

guest|[Join](http://www.wikispaces.com/user/join?goto=http%3A%2F%2Fspirulina.wikispaces.com%2Fspace%2Fjoin)|[Help](http://help.wikispaces.com/)|[Sign In](http://www.wikispaces.com/site/signin?goto=http%3A%2F%2Fspirulina.wikispaces.com%2FDSTRACE)

[![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.3.jpeg]]](http://spirulina.wikispaces.com/)

Actions

* <http://spirulina.wikispaces.com/>[Wiki Home](http://spirulina.wikispaces.com/)
* <http://spirulina.wikispaces.com/space/content>[Pages and Files](http://spirulina.wikispaces.com/space/content)
* <http://spirulina.wikispaces.com/wiki/members>[Members](http://spirulina.wikispaces.com/wiki/members)
* <http://spirulina.wikispaces.com/wiki/changes>[Recent Changes](http://spirulina.wikispaces.com/wiki/changes)
* <http://spirulina.wikispaces.com/wiki/about>[Manage Wiki](http://spirulina.wikispaces.com/wiki/about)

Navigation

	1. [Home](http://spirulina.wikispaces.com/)
* [-658](http://spirulina.wikispaces.com/+-658)

* [-1497](http://spirulina.wikispaces.com/-1497)
* [-6024](http://spirulina.wikispaces.com/-6024)
* [-634 FFFFFD86 NO REFERRALS](http://spirulina.wikispaces.com/-634+FFFFFD86+++NO+REFERRALS)
* [-649 - NMAS install](http://spirulina.wikispaces.com/-649+-+NMAS+install)
* [-761](http://spirulina.wikispaces.com/-761)
* [-785 - you are screwed](http://spirulina.wikispaces.com/-785+-+you+are+screwed)
* [-ANT](http://spirulina.wikispaces.com/-ANT)
* [-XK3](http://spirulina.wikispaces.com/-XK3)
* [10462426691](http://spirulina.wikispaces.com/10462426691)
* [654 = 672 Inconsistent replica](http://spirulina.wikispaces.com/654+%3D+672+Inconsistent+replica)
* [Add server (Linux)](http://spirulina.wikispaces.com/Add+server+%28Linux%29)
* [Advanced Refferal Costing](http://spirulina.wikispaces.com/Advanced+Refferal+Costing)
* [Akos Wiki](http://spirulina.wikispaces.com/Akos+Wiki)
* [Bottleneck Linux performance](http://spirulina.wikispaces.com/Bottleneck+Linux+performance)
* [bulkmod.pl - dupetrace.pl](http://spirulina.wikispaces.com/bulkmod.pl++-+dupetrace.pl)
* [Cache](http://spirulina.wikispaces.com/Cache)
* [CallRec](http://spirulina.wikispaces.com/CallRec)
* [Certificate Server](http://spirulina.wikispaces.com/Certificate+Server)
* [Change Server Name - Linux-NW](http://spirulina.wikispaces.com/Change+Server+Name+-+Linux-NW)
* [Cisco](http://spirulina.wikispaces.com/Cisco)
* [CLIENT](http://spirulina.wikispaces.com/CLIENT)
* [Collision name](http://spirulina.wikispaces.com/Collision+name)
* [Common Errors](http://spirulina.wikispaces.com/Common+Errors)
* [ConsoleOne](http://spirulina.wikispaces.com/ConsoleOne)
* [Cores-Abends](http://spirulina.wikispaces.com/Cores-Abends)
* [Cygwin](http://spirulina.wikispaces.com/Cygwin)
* [Diagnosing Memory Heap Corruption in glibc with MALLOC_CHECK_](http://spirulina.wikispaces.com/Diagnosing+Memory+Heap+Corruption+in+glibc+with+MALLOC_CHECK_)
* [diagpwd](http://spirulina.wikispaces.com/diagpwd)
* [DNS](http://spirulina.wikispaces.com/DNS)
* [dsbk](http://spirulina.wikispaces.com/dsbk)
* [DSfW](http://spirulina.wikispaces.com/DSfW)
* [DSREPAIR](http://spirulina.wikispaces.com/DSREPAIR)
* [DSREPAIR 2](http://spirulina.wikispaces.com/DSREPAIR+2)
* [DSTRACE](http://spirulina.wikispaces.com/DSTRACE)
* [eDirectory](http://spirulina.wikispaces.com/eDirectory)
* [eDirectory DNS](http://spirulina.wikispaces.com/eDirectory+DNS)
* [FIND](http://spirulina.wikispaces.com/FIND)
* [FInd domain on win](http://spirulina.wikispaces.com/FInd+domain+on+win)
* [Firefox Memory leak](http://spirulina.wikispaces.com/Firefox+Memory+leak)
* [Fork_Exec](http://spirulina.wikispaces.com/Fork_Exec)
* [GDM log in Solaris](http://spirulina.wikispaces.com/GDM+log+in+Solaris)
* [GREP](http://spirulina.wikispaces.com/GREP)
* [GW](http://spirulina.wikispaces.com/GW)
* [Health Check](http://spirulina.wikispaces.com/Health+Check)
* [High Utilisation](http://spirulina.wikispaces.com/High+Utilisation)
* [High Values using NDS iMonitor](http://spirulina.wikispaces.com/High+Values+using+NDS+iMonitor)
* [How to recover lost files after you accidentally wipe your hard drive](http://spirulina.wikispaces.com/How+to+recover+lost+files+after+you+accidentally+wipe+your+hard+drive)
* [IDM](http://spirulina.wikispaces.com/IDM)
* [iManager](http://spirulina.wikispaces.com/iManager)
* [iMonitor](http://spirulina.wikispaces.com/iMonitor)
* [Increasing Hard Disk Size on your Virtual Machine](http://spirulina.wikispaces.com/Increasing+Hard+Disk+Size+on+your+Virtual+Machine)
* [Indexing](http://spirulina.wikispaces.com/Indexing)
* [Install eDir Linux](http://spirulina.wikispaces.com/Install+eDir+Linux)
* [Interview questions and answers](http://spirulina.wikispaces.com/Interview+questions+and+answers)
* [IP Alias](http://spirulina.wikispaces.com/IP+Alias)
* [LDAP](http://spirulina.wikispaces.com/LDAP)
* [ldapsearch](http://spirulina.wikispaces.com/ldapsearch)
* [LDAP_Tool](http://spirulina.wikispaces.com/LDAP_Tool)
* [LINUX](http://spirulina.wikispaces.com/LINUX)
* [Linux general](http://spirulina.wikispaces.com/Linux+general)
* [Locked database -618](http://spirulina.wikispaces.com/Locked+database+-618)
* [LUM](http://spirulina.wikispaces.com/LUM)
* [Mount ISO](http://spirulina.wikispaces.com/Mount+ISO)
* [MUTT mail](http://spirulina.wikispaces.com/MUTT+mail)
* [Nagios](http://spirulina.wikispaces.com/Nagios)
* [NCP](http://spirulina.wikispaces.com/NCP)
* [nds500.sch](http://spirulina.wikispaces.com/nds500.sch)
* [ndsautotrace.sh](http://spirulina.wikispaces.com/ndsautotrace.sh)
* [ndsconfig](http://spirulina.wikispaces.com/ndsconfig)
* [ndsrc](http://spirulina.wikispaces.com/ndsrc)
* [NETBASIC](http://spirulina.wikispaces.com/NETBASIC)
* [NFAUUser -608](http://spirulina.wikispaces.com/NFAUUser+-608)
* [NFS](http://spirulina.wikispaces.com/NFS)
* [NICI](http://spirulina.wikispaces.com/NICI)
* [NLS_LSP creation](http://spirulina.wikispaces.com/NLS_LSP+creation)
* [NMAS](http://spirulina.wikispaces.com/NMAS)
* [NTP all](http://spirulina.wikispaces.com/NTP+all)
* [Obituaries](http://spirulina.wikispaces.com/Obituaries)
* [OES2 SP1 64bit](http://spirulina.wikispaces.com/OES2+SP1++64bit)
* [OpenLdap](http://spirulina.wikispaces.com/OpenLdap)
* [ORACLE](http://spirulina.wikispaces.com/ORACLE)
* [PKIDIAG](http://spirulina.wikispaces.com/PKIDIAG)
* [Ports](http://spirulina.wikispaces.com/Ports)
* [PostgresQL](http://spirulina.wikispaces.com/PostgresQL)
* [qmon](http://spirulina.wikispaces.com/qmon)
* [Questions](http://spirulina.wikispaces.com/Questions)
* [RDBHOST](http://spirulina.wikispaces.com/RDBHOST)
* [rebuild](http://spirulina.wikispaces.com/rebuild)
* [Removing Server from a Tree](http://spirulina.wikispaces.com/Removing+Server+from+a+Tree)
* [Restore dsbk backup](http://spirulina.wikispaces.com/Restore+dsbk+backup)
* [RHCSA](http://spirulina.wikispaces.com/RHCSA)
* [RHCSA objectives](http://spirulina.wikispaces.com/RHCSA+objectives)
* [RHEL](http://spirulina.wikispaces.com/RHEL)
* [SAMBA](http://spirulina.wikispaces.com/SAMBA)
* [SCHCMP.EXE](http://spirulina.wikispaces.com/SCHCMP.EXE)
* [SCP](http://spirulina.wikispaces.com/SCP)
* [SDIDIAG](http://spirulina.wikispaces.com/SDIDIAG)
* [Sentinel install](http://spirulina.wikispaces.com/Sentinel+install)
* [Skype](http://spirulina.wikispaces.com/Skype)
* [SLP](http://spirulina.wikispaces.com/SLP)
* [SNMP](http://spirulina.wikispaces.com/SNMP)
* [SOLARIS admin pass hack](http://spirulina.wikispaces.com/SOLARIS+admin+pass+hack)
* [Solaris command reference](http://spirulina.wikispaces.com/Solaris+command+reference)
* [Solaris quick Sheet](http://spirulina.wikispaces.com/Solaris+quick+Sheet)
* [SSL Service error -5984 error](http://spirulina.wikispaces.com/SSL+Service+error+-5984+error)
* [SUB-REF](http://spirulina.wikispaces.com/SUB-REF)
* [Sunc by Part or Server](http://spirulina.wikispaces.com/Sunc+by+Part+or+Server)
* [Synthetic Time](http://spirulina.wikispaces.com/Synthetic+Time)
* [TBX](http://spirulina.wikispaces.com/TBX)
* [TCP Connection not Terminating after Abnormal Logout](http://spirulina.wikispaces.com/TCP+Connection+not+Terminating+after+Abnormal+Logout)
* [TIMEsync in VMware](http://spirulina.wikispaces.com/TIMEsync+in+VMware)
* [tkinfo.pl](http://spirulina.wikispaces.com/tkinfo.pl)
* [TOOLS](http://spirulina.wikispaces.com/TOOLS)
* [TOP](http://spirulina.wikispaces.com/TOP)
* [Tree merge](http://spirulina.wikispaces.com/Tree+merge)
* [UP](http://spirulina.wikispaces.com/UP)
* [Updating OES](http://spirulina.wikispaces.com/Updating+OES)
* [USB linux installation](http://spirulina.wikispaces.com/USB+linux+installation)
* [various commands](http://spirulina.wikispaces.com/various+commands)
* [Verbs](http://spirulina.wikispaces.com/Verbs)
* [VMWARE](http://spirulina.wikispaces.com/VMWARE)
* [WIN Tweak](http://spirulina.wikispaces.com/WIN+Tweak)
* [WINDOWS stuff](http://spirulina.wikispaces.com/WINDOWS+stuff)

|     |     |     |     |
| --- | --- | --- | --- |
| ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.1.gif]] | ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] |     | ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.5.gif]] |
|     | ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] [DSTRACE](http://spirulina.wikispaces.com/DSTRACE)<br><br> [![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] Edit](http://spirulina.wikispaces.com/DSTRACE#) [![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] 0](http://spirulina.wikispaces.com/message/list/DSTRACE)[![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]]0](http://spirulina.wikispaces.com/DSTRACE#) [![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] 12](http://spirulina.wikispaces.com/page/history/DSTRACE)[…](http://spirulina.wikispaces.com/DSTRACE#)<br><br>DSTRACE<br>LOAD DSTRACE<br>DSTRACE<br>DSTRACE SCREEN ON<br>DSTRACE -ALL<br>DSTRACE +SYNC +SYND +OBIT +BLKD - inbound sync, sync detail, obits, backlink details<br>UNLOAD DSTRACE<br>[Different usage of dstrace](http://www.novell.com/communities/node/4418/the-many-faces-dstrace)<br>[Capture IDM trace](http://www.novell.com/coolsolutions/tip/8498.html)<br>[dstrace flags and explanations](http://www.novell.com/support/php/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=10061181&amp;sliceId=&amp;docTypeID=DT_TID_1_1&amp;dialogID=21496601&amp;stateId=1%200%2021492570)<br>[commands](http://www.novell.com/support/php/search.do?cmd=displayKC&amp;docType=kc&amp;externalId=10061180&amp;sliceId=&amp;docTypeID=DT_TID_1_1&amp;dialogID=34635467&amp;stateId=0%200%2034637455)<br>**ndstrace -c "modules"**<br><br>### DSTRACE Filters<br><br>**SET DSTRACE=A81164B91**<br>Using this hex DSTRACE filter will show debugging information that isn't present when simply turning DSTRACE on. This filter shows inbound/outbound server synchronization, and is widely used by consultants when monitoring DSTRACE screens.<br>**SET DSTRACE=\*st**<br>In setting DSTRACE with the \*st flag, and administrator can see DS related messages pertaining to Obituaries, Schema, External References, and Limber. This flag is relevant only on the server in which it is set. DS.NLM versions 5.93 and above are required for this to work.<br>**SET DSTRACE=!Z**<br>The !Z flag increases the wait time before a server will return a 625 error. This is extremely helpful if you have susceptible circuits within the infrastructure.<br>\*. - This action instructs NDS to close the source server's local database, and then unload and then<br>reload DS.NLM. After successfully reloading DS.NLM, the local database will be reopened.<br>\*B - This actions instructs NDS to schedule the NDS Backlinker background process to begin<br>execution on the source server in one second.<br>\*E - This action instructs NDS to re-initialize the source server's entry cache.<br>\*F - This action instructs NDS to set the source server's Force Flat Cleaner flag to True.<br>Additionally, this action instructs NDS to schedule the NDS Janitor background process to begin<br>execution on the source server in five seconds.<br>\*H - This action instructs NDS to schedule the NDS Replica Synchronization background process to<br>begin execution on the source server immediately.<br>\*L - This action instructs NDS to schedule the NDS Limber background process to begin execution<br>on the source server in five seconds.<br>\*P - This action instructs NDS to display the current values of the NDS tunable parameters.<br>The following example shows the output provided with this action:<br>TUNEABLE PARAMETER VALUES<br>ServerStateUpThreshold = 30 minutes<br>External Reference Life Span = 192 hours<br>JanitorInterval = 2 minutes<br>FlatCleaningInterval = 60 minutes<br>BacklinkInterval = 780 minutes<br>Heartbeat Data = 30 minutes<br>Heartbeat Schema = 240 minutes<br>Requests In Progress threshold = 1000<br>Request IPX checksums = DISABLED<br>IPX:RIPDelay = 20 ticks<br>IPX:Retries = 3<br>IPX:TimeOutScaleFactor = 2<br>IPX:TimeOutShiftFactor = 4<br>Disk accesses before yield = 10<br>Connection Expiration Timeout = 135 minutes<br>NDS Packet CRC checking = ENABLED<br>EMPLOYEE USE ONLY-NO PRINTING OR DISTRIBUTION ALLOWED<br>288 Novell eDirectory<br>Maximum Sockets Threshold = 75%<br>Outbound Synchronization = DISABLED until (1998/01/06 19:24:19)<br>Inbound Synchronization = DISABLED until (1998/01/06 19:24:19)<br>Schema Outbound Synchronization = ENABLED<br>Schema Inbound Synchronization = ENABLED<br>\*R - This action instructs NDS to reset the source server's DSTRACE TTF debug file back to zero<br>bytes.<br>\*S - This action instructs NDS to re-schedule the NDS Replica Synchronization background process<br>to begin execution on the source server in three seconds.<br>\*SS - This action instructs NDS to schedule the NDS Schema Synchronization background process<br>to begin execution on the source server immediately.<br>\*SSA - This action instructs NDS to set the Schema Sync All Servers flag to True and then schedule<br>the NDS Schema Synchronization background process to immediately begin schema<br>synchronization.<br>\*SSD - This action instructs NDS to reset the source server's Target Schema Sync list.<br>\*U - This action instructs NDS to change the status of any servers that have been identified as<br>"Down" to "Up."<br>ndstrace<br>set ndstrace file=on<br>set ndstrace screen=on<br>ndstrace +ldap +areq +lost +misc +part +scma +sklk +pkii +nmas<br><br>* * *<br><br>The familiar ways to enable and disable synchronization is thru dstrace or ndstrace as follows:- **set dstrace=!d** Disables outbound synch on all partitions- **set dstrace=!e** Enable outbound synch on all partitions- **set dstrace=!do** Disables outbound synch on all partitions- **set dstrace=!eo** Enables outbound synch on all partitions- **set dstrace=!di** Disables inbound synch on all partitions- **set dstrace=!ei** Enables inbound synch on all partitionsStarting with eDirectory 8.7.3 SP10 this can be made more granular. To selectively disable outbound synchronization on a selected partition first the partiton root EID must be found. This can be found by drilling down to the container via iMonitor. Assuming the EID is 87ff then the following command would disable outbound synch on only that partition:**set dstrace=!dp87ff**Typing: **set dstrace=!ep87ff** would enable it again.<br>A more typical situation would be to disable synchronization on all partitions then to enable it on one. The following commands would acheive this:<br>**set dstrace=!d<br>set dstrace=!ep87ff**<br>To reenable synchronization on all partitions:<br>set dstrace=!e<br>Since it can take a while for the status attribute for this server to appear in iMon the best way to display the current settings is to type:<br>set dstrace=!ds . This will show all partitions and there synchronization setting.<br>Disabling synchronization will take effect for 24 hours.<br>NOTE: The ability to selectively disable and enable synchronization is not available on the Windows platform.<br>**LINUX**<br>set ndstrace=**nodebug** (turns off all flags)<br>set ndstrace=**debug** (turns on TAGS, FRAG, JNTR, SPKT, BEMU, INIT, LMBK, RECM, SCMA, SKLK, BLNK, INSP, MISC, PART, TVEC<br>set ndstrace=**agent** (turns on TAGS, JNTR, AREQ, BLNK, RSLV, TVEC)<br>set ndstrace=all (turns on all flags)<br>set ttf=on (starts file logging <vardir>/log//ndstrace.log)<br>set ndstrace=**\*r** (clear ndstrace.log)<br>set ndstrace=\*M<ndstrace.log file size in bytes> (set maximum size of logfile)<br>ndstrace -c command (passes command to ndstrace without interface)<br>ndstrace **\-l** (loads ndstrace in command line mode)<br>ndstrace -u (unloads ndstrace) | ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] |     |
| ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.2.gif]] | ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.4.gif]] |     | ![[./_resources/evilform_-_DSTRACE_spirulina.wikispaces.com.resources/unknown_filename.gif]] |

[Help](http://help.wikispaces.com/) · [About](http://www.wikispaces.com/about) · [Blog](http://blog.wikispaces.com/) · [Pricing](http://www.wikispaces.com/content/pricing) · [Privacy](http://www.wikispaces.com/privacy) · [Terms](http://www.wikispaces.com/terms) · [**Support**](http://www.wikispaces.com/site/help?url=http%3A%2F%2Fspirulina.wikispaces.com%2FDSTRACE) · [**Upgrade**](http://spirulina.wikispaces.com/space/subscribe/upgrade)
Contributions to http://spirulina.wikispaces.com/ are licensed under a [GNU Free Documentation License](http://www.gnu.org/licenses/fdl.html#TOC1).
Portions not contributed by visitors are Copyright 2012 Tangient LLC.
